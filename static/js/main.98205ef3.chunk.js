(this["webpackJsonpblobs-no-2"]=this["webpackJsonpblobs-no-2"]||[]).push([[0],{16:function(t,e,s){},32:function(t,e,s){"use strict";s.r(e);var i=s(1),n=s.n(i),a=s(10),o=s.n(a),d=(s(16),s(2));window.p5=d;s(21);var r=s(11),h=s(0);function c(){return Object(h.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(h.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var l=s(5),u=s.n(l);class p{constructor(t,e,s){this.parseSVGPath=t=>{let e=t.match(/[a-df-z][^a-df-z]*/gi),s=[];for(let i of e){let t=i.charAt(0),e=i.slice(1).split(/[\s,]+/).map(Number);s.push([t,...e])}return s},this.p=t,this.x=e,this.y=s,this.speed=6,this.size=t.width/8,this.growth=parseInt(t.random(3,9)),this.edges=parseInt(t.random(16,32)),this.seed=t.random(1,100),this.fillHue=t.random(0,360),this.strokeHue=t.random(0,360),this.rotationAngle=0,this.rotationDirection=Math.random()>.5?"clockwise":"anti-clockwise",this.canRotate=Math.random()>.5;const{path:i}=u()({size:this.size,growth:this.growth,edges:this.edges,seed:this.seed});this.pathArray=this.parseSVGPath(i)}update(){this.size=this.size+this.speed,this.rotationAngle="clockwise"===this.rotationDirection?this.rotationAngle+this.speed/24:this.rotationAngle-this.speed/24;const{path:t}=u()({size:this.size,growth:this.growth,edges:this.edges,seed:this.seed});this.pathArray=this.parseSVGPath(t)}draw(){const t=this.x-this.size/2,e=this.y-this.size/2;this.p.push(),this.p.translate(t,e),this.canRotate&&this.p.rotate(this.rotationAngle),this.p.fill(this.fillHue,100,100,.33),this.p.stroke(this.strokeHue,100,100,.66),this.p.beginShape();for(let s of this.pathArray){let t=s[0],e=s.slice(1);"M"===t?this.p.vertex(e[0],e[1]):"Q"===t&&this.p.quadraticVertex(e[0],e[1],e[2],e[3])}this.p.endShape(this.p.CLOSE),this.p.translate(-t,-e),this.p.pop()}}var g=s.p+"static/media/blobs-no-2.7c202732.ogg",w=s.p+"static/media/blobs-no-2.f6eea4db.mid";var m=()=>{const t=Object(i.useRef)(),e=t=>{t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=15360,t.loadMidi=()=>{r.Midi.fromUrl(w).then((function(e){console.log(e);const s=e.tracks[7].notes;t.scheduleCueSet(s,"executeCueSet1"),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=()=>{t.song=t.loadSound(g,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1,a=1;for(let o=0;o<e.length;o++){const d=e[o],{ticks:r,time:h}=d;(r!==n||i)&&(d.currentCue=a,t.song.addCue(h,t[s],d),n=r,a++)}},t.blobsArray=[],t.setup=()=>{t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.bgHue=t.random(t.hueSet),t.colorMode(t.HSB),t.angleMode(t.DEGREES),t.background(0,0,0),t.stroke(0,0,100),t.strokeWeight(t.width/256),t.blob=new p(t,t.width/2,t.height/2)},t.draw=()=>{if(t.audioLoaded&&t.song.isPlaying()){t.background(0,0,0);for(let e=0;e<t.blobsArray.length;e++){const s=t.blobsArray[e];s.draw(),s.update()}}},t.executeCueSet1=()=>{const e=t.random(t.width/2-t.width/8,t.width/2+t.width/8),s=t.random(t.height/2-t.height/8,t.height/2+t.height/8);t.blobsArray.push(new p(t,e,s))},t.hasStarted=!1,t.mousePressed=()=>{t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play(),"undefined"===typeof window.dataLayer||t.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),t.hasStarted=!1)))},t.creditsLogged=!1,t.logCredits=()=>{!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=()=>{},t.updateCanvasDimensions=()=>{t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((()=>{new d(e,t.current)}),[]),Object(h.jsx)("div",{ref:t,children:Object(h.jsx)(c,{})})};var f=function(){return Object(h.jsx)(m,{})};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.98205ef3.chunk.js.map